{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quotation</title>
<style>
/* ================= PAGE SETUP ================= */
@page {size: A4 portrait;margin: 10mm;}
* {box-sizing: border-box;}
html, body {margin: 0;padding: 0;}
/* ================= BODY ================= */
body {font-family: "Arial", "Helvetica", sans-serif;font-size: 11px;font-weight: 400;line-height: 1.4;color: #222;background: #fff;}
/* ================= A4 WRAPPER ================= */
.page {width: 210mm;min-height: 297mm;margin: 0 auto;background: #fff;}
/* ================= HEADER ================= */
.header-wrapper {border-bottom: 1px solid #1e3c72;color: #000000;padding-bottom: 10px;margin-bottom: 10px;}
.header-top {display: flex;border-bottom: 1px solid #1e3c72;justify-content: space-between;align-items: center;margin-bottom: 10px;padding-bottom: 10px;}
.company-logo-section {display: flex;align-items: center;gap: 15px;}
.company-logo-section img {height: 60px;width: 60px;background: #fff;padding: 5px;border-radius: 8px;}
.company-title {font-size: 20px;font-weight: 700;letter-spacing: 0.5px;text-transform: uppercase;}
.company-subtitle {font-size: 11px;opacity: 0.9;margin-top: 3px;}
.purchase-order-badge {color: #1e3c72;border-radius: 5px;}
.purchase-order-label {font-size: 10px;font-weight: 600;text-transform: uppercase;letter-spacing: 1px;}
.purchase-order-number {font-size: 16px;font-weight: 700;margin-top: 3px;}
.header-bottom {display: flex;justify-content: space-between;border-top: 1px solid rgba(255,255,255,0.3);font-size: 10px;}
.header-info-col {flex: 1;}
.header-info-col strong {display: block;margin-bottom: 2px;font-size: 11px;}
/* ================= CLIENT SECTION ================= */
.client-section {display: flex;gap: 20px;margin-bottom: 10px;padding-bottom: 10px;border-bottom: 1px solid #1e3c72;}
.client-box {flex: 1;background: #f8f9fa;padding: 3px 0px;}
.client-box-title {font-size: 12px;font-weight: 700;color: #1e3c72;text-transform: uppercase;margin-bottom: 6px;letter-spacing: 0.5px;}
.client-box-content {font-size: 11px;line-height: 1.6;}
/* ================= PRODUCTS SECTION ================= */
.products-wrapper {margin-bottom: 15px;}
.section-header {color: #000000;padding: 8px 0px;font-size: 13px;font-weight: 700;text-transform: uppercase;letter-spacing: 0.5px;margin-bottom: 0;}
.product-card {border: 1px solid #1e3c72;margin-bottom: 20px;border-radius: 8px;overflow: hidden;box-shadow: 0 2px 4px rgba(0,0,0,0.1);}
.product-header {padding: 8px 12px;border-bottom: 1px solid #1e3c72;}
.product-number {display: inline-block;color: #000000;border-radius: 4px;font-size: 11px;font-weight: 700;margin-right: 10px;}
.product-name {display: inline-block;font-size: 14px;font-weight: 700;color: #222;}
.product-body {padding: 15px;background: #fff;}
.specs-grid {display: grid;grid-template-columns: repeat(2, 1fr);gap: 6px 20px;}
.spec-item {display: flex;padding: 4px 0;border-bottom: 1px solid #f0f0f0;}
.spec-label {font-weight: 600;color: #555;min-width: 140px;font-size: 10px;}
.spec-value {color: #222;font-weight: 500;flex: 1;}
.special-note {border: 1px solid #1e3c72;border-radius: 6px;padding: 8px;}
.special-note-title {font-weight: 700;color: #000000;margin-bottom: 5px;font-size: 11px;text-transform: uppercase;}
.special-note-text {color: #000000;font-size: 10px;line-height: 1.5;}
.delivery-section {border: 1px solid #1e3c72;padding: 10px;margin-top: 12px;border-radius: 4px;}
.delivery-label {font-weight: 700;color: #1e3c72;font-size: 10px;text-transform: uppercase;margin-bottom: 4px;}
/* ================= TERMS SECTION ================= */
.terms-wrapper {background: #f8f9fa;border: 1px solid #1e3c72;border-radius: 8px;padding: 8px;margin-bottom: 10px;}
.terms-title {font-size: 13px;font-weight: 700;color: #1e3c72;text-transform: uppercase;margin-bottom: 8px;letter-spacing: 0.5px;}
.terms-grid {display: grid;grid-template-columns: repeat(3, 1fr);gap: 10px;}
.term-label {font-weight: 700;font-size: 10px;color: #555;margin-bottom: 3px;}
.term-value {font-size: 11px;color: #222;}
/* ================= FOOTER ================= */
.footer-section {border-top: 3px solid #1e3c72;padding-top: 15px;margin-top: 10px;}
.footer-content {display: flex;justify-content: space-between;align-items: flex-end;}
.footer-left {flex: 1;}
.thank-you {font-size: 18px;font-weight: 700;color: #1e3c72;margin-bottom: 5px;}
.footer-company {font-size: 11px;color: #555;line-height: 1.6;}
.signature-area {text-align: center;padding-left: 30px;min-width: 200px;}
.signature-line {border-bottom: 2px solid #222;margin-bottom: 8px;padding-bottom: 40px;}
.signature-name {font-weight: 700;font-size: 12px;color: #1e3c72;text-transform: uppercase;}
.signature-title {font-size: 10px;color: #777;margin-top: 3px;}
/* ================= PRINT FIX ================= */
@media print {body {-webkit-print-color-adjust: exact;print-color-adjust: exact;} .product-card {page-break-inside: avoid;}}
</style>
</head>
<body>
<div class="page">
<div class="header-wrapper">
<div class="header-top">
<div class="company-logo-section">
<img src="{% static 'assets/img/logo_icon.png' %}" alt="Company Logo">
<div>
<div class="company-title">Shrri Nirmal Ventures</div>
<div class="company-subtitle">Private Limited</div>
</div>
</div>
<div class="purchase-order-badge">
<div class="purchase-order-label">Purchase Order No.</div>
<div class="purchase-order-number">{{ common_values.pouch_purchase_number }}</div>
</div>
</div>
<div class="header-bottom">
<div class="header-info-col"><strong>Corporate Office</strong>Unit 1601, 16th Floor, B Block,<br>Navratna Corporate Park, Ambli Bopal Road,<br>Ahmedabad - 380058</div>
<div class="header-info-col"><strong>Contact Information</strong>Email: info@shrrinirmal.com<br>Mobile: +91 9909045775<br>GSTIN: 24AABCN6372N1Z4</div>
<div class="header-info-col"><strong>Date</strong>{% now "d-m-Y" %}<br></div>
</div>
</div>
<div class="client-section">
<div class="client-box"><div class="client-box-title">To</div><div class="client-box-content">{{ common_values.party_details }}</div></div>
<div class="client-box"><div class="client-box-title">Kind Attention</div><div class="client-box-content">{{ common_values.kind_attention }}</div></div>
</div>
<div class="products-wrapper">
<div class="section-header">Product Details</div>
{% for job in jobs %}
<div class="product-card">
<div class="product-header"><span class="product-name">{{ job.job_name|default:"Product Name" }}</span></div>
<div class="product-body">
{% if job.special_instruction %}
<div class="special-note"><div class="special-note-title">‚ö† Note</div><div class="special-note-text">{{ job.special_instruction }}</div></div>
{% endif %}
<div class="specs-grid">
{% if job.pouch_open_size %}<div class="spec-item"><span class="spec-label">Pouch Open Size</span><span class="spec-value">{{ job.pouch_open_size }}</span></div>{% endif %}
{% if job.pouch_combination %}<div class="spec-item"><span class="spec-label">Pouch Combination</span><span class="spec-value">{{ job.pouch_combination }}</span></div>{% endif %}
{% if job.quantity %}<div class="spec-item"><span class="spec-label">Quantity</span><span class="spec-value">{{ job.quantity }}</span></div>{% endif %}
{% if job.minimum_quantity %}<div class="spec-item"><span class="spec-label">Minimum Quantity</span><span class="spec-value">{{ job.minimum_quantity }}</span></div>{% endif %}
{% if job.per_pouch_rate_basic %}<div class="spec-item"><span class="spec-label">Per Pouch Rate (Basic)</span><span class="spec-value">‚Çπ {{ job.per_pouch_rate_basic }}</span></div>{% endif %}
{% if job.no_of_pouch_kg %}<div class="spec-item"><span class="spec-label">Pouches per Kg</span><span class="spec-value">{{ job.no_of_pouch_kg }}</span></div>{% endif %}
{% if job.zipper_cost %}<div class="spec-item"><span class="spec-label">Zipper Cost</span><span class="spec-value">‚Çπ {{ job.zipper_cost }}</span></div>{% endif %}
{% if job.pouch_charge %}<div class="spec-item"><span class="spec-label">Pouch Charge</span><span class="spec-value">‚Çπ {{ job.pouch_charge }}</span></div>{% endif %}
{% if job.purchase_rate_per_kg %}<div class="spec-item"><span class="spec-label">Purchase Rate per Kg</span><span class="spec-value">‚Çπ {{ job.purchase_rate_per_kg }}</span></div>{% endif %}
{% if job.final_rare %}<div class="spec-item"><span class="spec-label">Final Rate</span><span class="spec-value">‚Çπ {{ job.final_rare }}</span></div>{% endif %}
{% if job.pouch_type %}<div class="spec-item"><span class="spec-label">Pouch Type</span><span class="spec-value">{{ job.pouch_type }}</span></div>{% endif %}
</div>
{% if job.delivery_address %}
<div class="special-note" style="margin-top: 15px;"><div class="special-note-title">üìç Delivery Address</div><div class="special-note-text" style="white-space: pre-line; word-wrap: break-word;">{{ job.delivery_address }}</div></div>
{% endif %}
</div>
</div>
{% endfor %}
</div>
<div class="terms-wrapper">
<div class="terms-title">Other Terms</div>
<div class="terms-grid">
<div class="term-item"><div class="term-label">Quantity Variate</div><div class="term-value">{{ common_values.quantity_variate }}</div></div>
<div class="term-item"><div class="term-label">Freight</div><div class="term-value">{{ common_values.freight }}</div></div>
<div class="term-item"><div class="term-label">G.S.T.</div><div class="term-value">{{ common_values.gst }}</div></div>
</div>
</div>
<div class="footer-section">
<div class="footer-content">
<div class="footer-left"><div class="thank-you">Thank You For Your Business!</div><div class="footer-company"><strong>Shrri Nirmal Ventures Private Limited</strong><br>We look forward to serving you again.</div></div>
<div class="signature-area"><div class="signature-line" style="padding-bottom: 5px;"><img src="{% static 'assets/img/BHAVIKsir_SIGN.jpg' %}" alt="Signature" style="height: 80px; width: auto;"></div><div class="signature-name">Mr. Bhavik Shah</div><div class="signature-title">Authorized Signatory</div></div>
</div>
</div>
</div>
<script>
window.onload = function () {window.print();window.onafterprint = function () {window.close();};};
</script>
</body>
</html>